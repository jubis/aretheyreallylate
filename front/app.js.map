{"version":3,"sources":["app.es6.js"],"names":[],"mappings":"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","file":"app.js","sourcesContent":["var searches = new Bacon.Bus()\n\nlet trainsData = searches\n\t.map(trainNumber => `/trainStatus`)\n\t.log('path')\n\t.map(path => { return {type:'GET', url: path} })\n\t.log('request')\n\t.ajax().log('ajax')\n\nfunction getTime(stringTime) {\n\treturn moment(stringTime).format('H:mm')\n}\n\nlet Train = React.createClass({\n\trender: function() {\n\t\tlet info = this.props.info\n\n\t\tlet isLate = info.wasLate || info.willBeLate\n\t\tlet isOnSchdule = !isLate && info.hasDeparted\n\n\t\tlet late = ''\n\t\tif (info.willBeLate) late = 'Is late'\n\t\telse if (info.wasLate) late = 'Was late'\n\t\telse if (info.hasDeparted) late = 'On schedule'\n\t\telse if (info.cancelled) late = 'Cancelled'\n\n\t\tif (isLate) {\n\t\t\tvar maxLate = <p className='tight'>Late max {info.maxLate} mins</p>\n\t\t}\n\n\t\tlet classes = classNames(\n\t\t\t'train',\n\t\t\t{late: isLate, 'on-schedule': isOnSchdule, 'cancelled': info.cancelled}\n\t\t)\n\n\t\tlet nextStation = (!info.hasArrived && info.hasDeparted) ? <p>next: {info.station}</p> : ''\n\t\tlet arrivedOrNotDeparted = ''\n\t\tif (info.hasArrived) arrivedOrNotDeparted = <p>Arrived to {info.arrStation}</p>\n\t\telse if (!info.hasDeparted) arrivedOrNotDeparted = <p>Hasn't departed yet</p>\n\n\t\treturn (\n\t\t\t<div className={classes}>\n\t\t\t\t<h3>{info.type} {info.trainNumber}</h3>\n\t\t\t\t<p className='tight'>{info.depStation} - {info.arrStation}</p>\n\t\t\t\t<p className='tight'>{getTime(info.departs)} - {getTime(info.arrives)}</p>\n\t\t\t\t{arrivedOrNotDeparted}\n\t\t\t\t{nextStation}\n\t\t\t\t<p className='tight'>{late}</p>\n\t\t\t\t{maxLate}\n\t\t\t</div>\n\t\t)\n\t}\n})\n\nlet TrainList = React.createClass({\n\tgetInitialState: function() {\n\t\treturn {trains: []}\n\t},\n\tcomponentDidMount: function() {\n\t\tconsole.log('did mount')\n\t\ttrainsData.log('trainlist').onValue((trains) => this.setState({trains:trains}))\n\t},\n\trender: function() {\n\t\tconsole.log(this.state)\n\t\tlet trains =\n\t\t\tthis.state.trains\n\t\t\t\t.map((train) =>\n\t\t\t\t\t<Train info={train} key={train.trainNumber} />\n\t\t\t\t)\n\n\t\treturn (\n\t\t\t<div className=\"train-list\">\n\t\t\t\t{(trains.length === 0) ? 'Loading...' : ''}\n\t\t\t\t{trains}\n\t\t\t</div>\n\t\t)\n\t}\n})\n\n$('document').ready(() => {\n\tReactDOM.render(\n\t\t<TrainList />,\n\t\tdocument.getElementById('content')\n\t)\n\tsearches.push(0)\n})\n"]}